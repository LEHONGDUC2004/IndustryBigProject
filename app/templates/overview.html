{% extends 'indexLogin.html' %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/overview.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}"/>
<meta name="is-authenticated" content="{{ 'true' if current_user.is_authenticated else 'false' }}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<script src="https://cdn.tailwindcss.com"></script>
{% endblock %}

{% block changeCloumn %}
<nav class="bg-gray-900 border-b border-gray-800">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center space-x-8">
        <a href="/overview" class="py-4 px-1 text-sm font-medium text-white border-blue-500 border-b-2">Overview</a>
      <a href="/indexLogin" class="py-4 px-1 text-sm font-medium hover:border-b-2 hover:border-blue-500 hover:text-white">Deployments</a>
      <a href="/success" class="py-4 px-1 text-sm font-medium text-gray-400 hover:text-white hover:border-gray-500 border-b-2 border-transparent">Activity</a>
      <a href="#" class="py-4 px-1 text-sm font-medium text-gray-400 hover:text-white hover:border-gray-500 border-b-2 border-transparent">Domains</a>
        <a href="{{ url_for('main.profile', tab='info') }}" class="py-4 px-1 text-sm font-medium text-gray-400 hover:text-white hover:border-gray-500 border-b-2 border-transparent">Settings</a>
    </div>
  </div>
</nav>
{% endblock %}
{% block profile %}
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
    <div class="container">
      <a class="navbar-brand" href="#">
        <i class="bi bi-diagram-3-fill me-2"></i>
        Project CI/CD Pipeline
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#overview">Tổng quan</a></li>
          <li class="nav-item"><a class="nav-link" href="#tech-stack">Công nghệ</a></li>
          <li class="nav-item"><a class="nav-link" href="#architecture">Kiến trúc</a></li>
          <li class="nav-item"><a class="nav-link" href="#workflow">Luồng hoạt động</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <header class="hero-section text-center p-5 mb-4">
    <div class="container">
      <h1 class="display-4 fw-bold">Dự án CI/CD & AWS Infrastructure</h1>
      <p class="lead">Triển khai ứng dụng Web Containerized tự động trên nền tảng AWS</p>
      <hr class="my-4">
      <p class="fw-light">Người thực hiện: <strong>Lê Hồng Đức - 2251052021</strong></p>
    </div>
  </header>

  <main class="container">
    <section id="overview" class="py-5 text-center">
      <h2 class="display-6 fw-bold mb-4">Tổng quan Dự án</h2>
      <p class="lead text-muted mx-auto" style="max-width: 800px;">
        Dự án này xây dựng một hệ thống CI/CD (Continuous Integration/Continuous Deployment) hoàn chỉnh để tự động hóa quy trình từ việc phát triển code, đóng gói, kiểm thử đến triển khai ứng dụng lên một môi trường AWS Cloud mạnh mẽ, có khả năng mở rộng và được bảo vệ.
      </p>
    </section>
    <hr>
    <section id="tech-stack" class="py-5">
      <h2 class="display-6 fw-bold text-center mb-5">Công nghệ sử dụng</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="card h-100">
            <div class="card-body text-center p-4">
              <div class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-4 rounded-3 mb-3 p-3">
                 <i class="bi bi-box-seam"></i>
              </div>
              <h5 class="card-title fw-bold">Application & Container</h5>
              <p class="card-text text-muted">Docker, Docker Compose, Ansible</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="card h-100">
            <div class="card-body text-center p-4">
               <div class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-4 rounded-3 mb-3 p-3">
                 <i class="bi bi-github"></i>
              </div>
              <h5 class="card-title fw-bold">CI/CD & Automation</h5>
              <p class="card-text text-muted">GitHub, GitHub Actions, Jenkins</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="card h-100">
            <div class="card-body text-center p-4">
               <div class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-4 rounded-3 mb-3 p-3">
                 <i class="bi bi-cloud-fill"></i>
              </div>
              <h5 class="card-title fw-bold">AWS Cloud Services</h5>
              <p class="card-text text-muted">VPC, EC2, S3, ALB, CloudFront, EBS</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <hr>
    <section id="architecture" class="py-5">
      <h2 class="display-6 fw-bold text-center mb-5">Kiến trúc Hệ thống</h2>
      <div class="row align-items-center g-5">
        <div class="col-lg-7">
          <h3 class="fw-bold mb-3">Sơ đồ tổng thể</h3>
          <img src="https://duckou-myproject.s3.us-east-1.amazonaws.com/z6959301532032_64bdb74bcd9c1160689d7bda19a8b84f.jpg" class="img-fluid rounded shadow-lg" alt="Sơ đồ kiến trúc hệ thống CI/CD trên AWS">
        </div>
        <div class="col-lg-5">
          <h3 class="fw-bold mb-3">Các thành phần chính</h3>
          <ul class="list-unstyled">
            <li class="d-flex mb-3"><i class="bi bi-cloud-arrow-down-fill fs-4 me-3 text-primary"></i><div><strong>CloudFront & ALB:</strong> Phân phối nội dung và cân bằng tải, tăng tốc độ và độ tin cậy.</div></li>
            <li class="d-flex mb-3"><i class="bi bi-server fs-4 me-3 text-primary"></i><div><strong>EC2 Servers:</strong> Máy chủ chính chạy ứng dụng, máy chủ Jenkins cho CI/CD và máy chủ cho việc kiểm thử.</div></li>
            <li class="d-flex mb-3"><i class="bi bi-database-fill-gear fs-4 me-3 text-primary"></i><div><strong>Jenkins & Testing:</strong> Máy chủ Jenkins điều phối các bước Build, Test, Deploy. Một máy chủ EC2 riêng biệt được dùng để chạy kiểm thử.</div></li>
            <li class="d-flex mb-3"><i class="bi bi-bucket-fill fs-4 me-3 text-primary"></i><div><strong>Amazon S3 & EBS:</strong> Lưu trữ mã nguồn, các bản build, và thực hiện backup dữ liệu ứng dụng cũng như snapshot cho ổ đĩa.</div></li>
            <li class="d-flex mb-3"><i class="bi bi-shield-lock-fill fs-4 me-3 text-primary"></i><div><strong>VPC:</strong> Mạng riêng ảo để cô lập và bảo vệ toàn bộ tài nguyên trên cloud.</div></li>
          </ul>
        </div>
      </div>
    </section>

    <hr>

    <section id="workflow" class="py-5">
      <h2 class="display-6 fw-bold text-center mb-5">Luồng hoạt động CI/CD</h2>
      <ul class="timeline">
        <li class="timeline-item">
          <div class="timeline-icon"><i class="bi bi-git"></i></div>
          <div class="timeline-body">
            <h5 class="fw-bold">1. Commit & Push Code</h5>
            <p class="text-muted">Lập trình viên thực hiện thay đổi và đẩy mã nguồn lên repository trên GitHub.</p>
          </div>
        </li>
        <li class="timeline-item">
          <div class="timeline-icon"><i class="bi bi-arrow-repeat"></i></div>
          <div class="timeline-body">
            <h5 class="fw-bold">2. Trigger Pipeline</h5>
            <p class="text-muted">GitHub Actions hoặc Webhook được kích hoạt, gửi một tín hiệu đến máy chủ Jenkins trên EC2.</p>
          </div>
        </li>
        <li class="timeline-item">
          <div class="timeline-icon"><i class="bi bi-tools"></i></div>
          <div class="timeline-body">
            <h5 class="fw-bold">3. Build & Test</h5>
            <p class="text-muted">Jenkins nhận tín hiệu, kéo code mới nhất về, thực hiện đóng gói ứng dụng (build docker image) và chạy các kịch bản kiểm thử tự động trên một EC2 server riêng biệt.</p>
          </div>
        </li>
        <li class="timeline-item">
          <div class="timeline-icon"><i class="bi bi-rocket-takeoff-fill"></i></div>
          <div class="timeline-body">
            <h5 class="fw-bold">4. Deploy to Production</h5>
            <p class="text-muted">Nếu quá trình Build và Test thành công, Jenkins sẽ triển khai phiên bản ứng dụng mới lên EC2 Server chính.</p>
          </div>
        </li>
         <li class="timeline-item">
          <div class="timeline-icon"><i class="bi bi-person-check-fill"></i></div>
          <div class="timeline-body">
            <h5 class="fw-bold">5. User Access</h5>
            <p class="text-muted">Người dùng cuối truy cập vào ứng dụng thông qua CloudFront, lưu lượng truy cập được điều phối bởi Application Load Balancer đến máy chủ EC2 đã được cập nhật.</p>
          </div>
        </li>
      </ul>
    </section>

  </main>

  <footer class="bg-dark text-white text-center py-4 mt-5">
    <div class="container">
      <p class="mb-0">&copy; 2025 - Dự án của Lê Hồng Đức</p>
    </div>
  </footer>
{% endblock %}
